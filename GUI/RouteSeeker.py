# -*- coding: utf-8 -*-
"""
Created on Sat Apr 18 14:31:58 2020

@author: Grigorii Podoksik
"""

import random
import numpy as np
import math


class Robot(object):
    pos = 0
    cargo = 0
    acc = 0
    shootingTime = 0   
    criticalSpeed = 3
    sequence = []
    
    def __init__(self, startPos, cargo, acc, shootingTime):
        self.pos = startPos
        self.cargo = cargo 
        self.acc = acc
        self.shootingTime = shootingTime
        self.sequence.append (startPos)
        
    
    def move (self, v_old, t):
        print (v_old[0])
        speed = math.sqrt(v_old[0]**2 + v_old[1]**2) + random.uniform(-self.acc, self.acc)*t
        print ("Speed: " + str(speed))
        
        tickets = []
        radius = max(abs(speed*t), 1)
        print (math.ceil(max(self.pos[0] - radius, 0)))
        for i in range (math.ceil(max(self.pos[0] - radius, 0)), math.floor(min(self.pos[0] + radius, 63))):
            print (i)
            for j in range (math.ceil(max(self.pos[1] - math.sqrt(radius**2 - (i-self.pos[0])**2), 0)), math.floor(min(self.pos[0] + math.sqrt(radius**2 - (i-self.pos[0])**2), 48))):
                print (j)
                for k in range (value[i][j] + 1):
                    d_pos = np.array([i-self.pos[0], j-self.pos[1]], float)
                    if ((speed < self.criticalSpeed) or math.abs((np.dot(d_pos, v_old))/(math.sqrt((d_pos[0]**2  + d_pos[1]**2)*(v_old[0]**2 + v_old[1]**2)))) > 0.707):
                        if (field[i][j] != 'w'):
                            print ([i, j])
                            tickets.append ([i, j])
        
        pos_old = self.pos
        self.pos = tickets[random.randrange(0, len(tickets))]
        self.sequence.append(self.pos)
        
        return (np.array([(self.pos[0] - pos_old[0])/t, (self.pos[1] - pos_old[1])/t], float))
            
    
                    
        # while (True):
        #     v_new_x = random.uniform(-self.speed, self.speed)
        #     v_new = np.array([v_new_x, math.sqrt(self.speed**2 - v_new_x**2)], float)
            
        #     print ("v_old: (" + str(v_old[0]) + ", " + str(v_old[1]) + ")")
        #     print ("v_new: (" + str(v_new[0]) + ", " + str(v_new[1]) + ")")
        #     if ((self.speed < 3) or (np.dot(v_new, v_old))/(math.sqrt((v_new[0]**2  + v_new[1]**2)*(v_old[0]**2 + v_old[1]**2)) > 0.707)):
        #         break
        
        
        # self.pos = [round(self.pos[0] + v_new[0]), round(self.pos[1] + v_new[1])]
        # return v_new



field = [['w', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '','l', '', '','w'],
 ['w', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '','w'],
 ['w', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '','w'],
 ['w', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '','w'],
 ['w', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '','w'],
 ['w', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '','w'],
 ['w', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '','w'],
 ['w', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '','w'],
 ['w', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '','w'],
 ['w', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '','l', '', '','w'],
 ['w', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '','w'],
 ['w', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '','w'],
 ['w', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '','w'],
 ['w', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '','w'],
 ['w', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '','w'],
 ['w', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '','w'],
 ['w', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '','w'],
 ['w', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '','w'],
 ['w', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '','l', '', '','w'],
 ['w', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '','w'],
 ['w', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '','w'],
 ['w', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '','w'],
 ['w', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '','w','w','w','w', '', '', '', '', '','w'],
 ['w', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '','w','w','w','w', '', '', '', '', '','w'],
 ['w', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '','w','w','w','w', '', '', '', '', '','w'],
 ['w', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '','w', '', '', '', '', '','w'],
 ['w', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '','l', '','l', '','w'],
 ['w', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '','w'],
 ['w', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '','w'],
 ['w', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '','w'],
 ['w', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '','w','w','w', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '','w'],
 ['w', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '','w','w','w', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '','w'],
 ['w', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '','w','w','w', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '','w'],
 ['w', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '','w'],
 ['w', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '','w'],
 ['w', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '','w'],
 ['w', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '','w'],
 ['w', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '','w'],
 ['w', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '','w'],
 ['w', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '','w'],
 ['w', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '','w'],
 ['w', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '','w'],
 ['w', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '','w'],
 ['w', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '','w'],
 ['w','i','i','i','i','i','i','i','i','i','i','i','i','i','i','i','i','i','i','i','i','i','i','i','i','i','i','i','i','i','i','i','i','i','i','i','i','i','i','i','i','i','i','i','i','i','i','w'],
 ['w', '', '', '', '', '', '', '', '', '', '', '','s','s','s', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '','w'],
 ['w', '', '', '', '', '', '','s','s','s','s','s','s','s','s','s','s','s','s','s', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '','w'],
 ['w', '', '', '', '', '','s','s','s','s','s','s','s','s','s','s','s','s','s','s','s', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '','w'],
 ['w', '', '', '','s','s','s','s','s','s','s','s','s','s','s','s','s','s','s','s','s','s','s', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '','w'],
 ['w', '','s','s','s','s','s','s','s','s','s','s','s','s','s','s','s','s','s','s','s','s','s','s','s', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '','w'],
 ['w', '','s','s','s','s','s','s','s','s','s','s','s','s','s','s','s','s','s','s','s','s','s','s','s', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '','w'],
 ['w','s','s','s','s','s','s','s','s','s','s','s','s','s','s','s','s','s','s','s','s','s','s','s','s','s', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '','w'],
 ['w','s','s','s','s','s','s','s','s','s','s','s','s','s','s','s','s','s','s','s','s','s','s','s','s','s','s', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '','w'],
 ['w','s','s','s','s','s','s','s','s','s','s','s','s','s','s','s','s','s','s','s','s','s','s','s','s','s','s','s', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '','w'],
 ['w','s','s','s','s','s','s','s','s','s','s','s','s','s','s','s','s','s','s','s','s','s','s','s','s','s','s','s', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '','w'],
 ['w','s','s','s','s','s','s','s','s','s','s','s','s','s','s','s','s','s','s','s','s','s','s','s','s','s','s','s','s', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '','w'],
 ['w','s','s','s','s','s','s','s','s','s','s','s','s','s','s','s','s','s','s','s','s','s','s','s','s','s','s','s','s', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '','w'],
 ['w','s','s','s','s','s','s','s','s','s','s','s','s','s','s','s','s','s','s','s','s','s','s','s','s','s','s','s','s', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '','w'],
 ['w', '', '','s','s','s','s','s','s','s','s','s','s','s','s','s','s','s','s','s','s','s','s','s','s','s','s','s', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '','w'],
 ['w', '', '', '','s','s','s','s','s','s','s','s','s','s','s','s','s','s','s','s','s','s','s','s','s','s','s','s', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '','w'],
 ['w', '', '', '', '', '','s','s','s','s','s','s','s','s','s','s','s','s','s','s','s','s','s','s','s','s','s','s', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '','w'],
 ['w','w','w','w','w','w', '', '', '', '','s','s','s','s','s','s','s','s','s','s','s','s', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '','w','w','w','w','w','w'],
 ['w','w','w','w','w','w','w','w','w','w','w','s','s','s','s','s','s', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '','w','w','w','w','w','w','w','w','w','w','w'],
 ['w','w','w','w','w','w','w','w','w','w','w','w','w','w','w','w','w','w','w','w','w','w','w','w','w','w','w','w','w','w','w','w','w','w','w','w','w','w','w','w','w','w','w','w','w','w','w','w']]


value = [[0]*len(field[0])]*len(field)
    
for attemptNum in range (2000000000):
    for i in range (len (field)):
        for j in range (len (field[i])):
            print (value[i][j], sep = ' ', end = '')
    
    score = 0
    for startingLine in range (len(field)):   
        if (field[startingLine].count ('i') != 0):
            break
    robot = Robot (np.array([startingLine, random.randrange(1, len(field) - 1)], float), 3, 5, 1)
    
    time = 0.00
    tactsAmount = 15.00
    increment = 15.00 / tactsAmount
    v_old = np.array([0, 0], float)
    while (time <= 15):
        robot.move (v_old, increment)
        time += increment
    
    while (len(robot.sequence) >= 0):
        i = len(robot.sequence) - 1
        position = robot.sequence.pop(i)
        print (position)
        
        





